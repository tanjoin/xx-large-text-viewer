<!DOCTYPE html>
<html>
<head>
<title>xxx-large</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
  }
  #output-area {
    width: 100%;
    height: 100vh;
    border: none;
    padding: 20px;
    box-sizing: border-box;
    
    font-size: xxx-large;
    white-space: pre-wrap;
    resize: none;
  }

  .light-mode {
    background-color: #f0f0f0;
    color: #2b2b2b;
  }

  .black-mode {
    background-color: #2b2b2b;
    color: #f0f0f0;
  }

  #output-area:focus {
    outline: none;
  }
</style>
</head>
<body>
  <textarea class="black-mode" id="output-area" autofocus></textarea>
<script>
class XxxLargeTextViewer {
  listedLines(event) {
    event.preventDefault();
    const textarea = document.getElementById('output-area');
    const lines = textarea.value.split('\n');

    // すべての行がリスト化されているかチェック
    const allLinesAreList = lines.filter(line => line.trim() !== '').every(line => line.startsWith('- '));

    let newLines;
    if (allLinesAreList) {
      // リスト解除：すべての行の "- " を削除
      newLines = lines.map(line => line.startsWith('- ') ? line.substring(2) : line);
    } else {
      // リスト化：まだリスト化されていない行に "- " を追加
      newLines = lines.map(line => {
        if (line.trim() !== '' && !line.startsWith('- ')) {
          return '- ' + line;
        }
        return line;
      });
    }
    textarea.value = newLines.join('\n');
  }
  centerAlignLines(event) {
    event.preventDefault();
    const textarea = document.getElementById('output-area');
    const body = document.body;
    // 現在中央揃えになっているかstyleを見て判断
    if (textarea.style.display === 'flex') {
      body.style.backgroundColor = '';
      textarea.style.position = '';
      textarea.style.top = '';
      textarea.style.display = '';
      textarea.style.justifyContent = '';
      textarea.style.alignItems = '';
      textarea.style.textAlign = '';
    } else {
      body.style.backgroundColor = '#2b2b2b';
      textarea.style.position = 'absolute';
      textarea.style.top = '50%';
      textarea.style.display = 'flex';
      textarea.style.justifyContent = 'center';
      textarea.style.alignItems = 'center';
      textarea.style.textAlign = 'center';
    }
  }
  backgroundColorToggle(event) {
    event.preventDefault();
    const textarea = document.getElementById('output-area');
    const body = document.body;
    if (textarea.classList.contains('black-mode')) {
      textarea.classList.remove('black-mode');
      textarea.classList.add('light-mode');
      body.style.backgroundColor = '#f0f0f0';
    } else {
      textarea.classList.remove('light-mode');
      textarea.classList.add('black-mode');
      body.style.backgroundColor = '#2b2b2b';
    }
  }
}
class ShortcutManager {
  handleShortcut(event) {
    if (event.ctrlKey && event.shiftKey) {
      switch (event.key.toLowerCase()) {
        case 'l':
          viewer.listedLines(event);
          break;
        case 'c':
          viewer.centerAlignLines(event);
          break;
        case 'b':
          viewer.backgroundColorToggle(event);
          break;
      }
    }
  }
}
const viewer = new XxxLargeTextViewer();
const shortcutManager = new ShortcutManager();
document.addEventListener('keydown', function(event) {
  shortcutManager.handleShortcut(event);
});
</script>
</body>
</html>
